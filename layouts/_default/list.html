
{{ define "nav" }}{{ partial "site-nav.html" . }}{{ end }}

{{ define "main" }}
  {{ $paginator := .Paginate (.Pages | lang.Merge (where .Sites.First.RegularPages "Section" .Section)) }}
  {{ $section_to_display :=  .Sections | default $paginator.Pages }}
{{ if not .Sites.First.RegularPages }}
  {{ partial "pagelayout-homepage.html" (dict "context" . "section_to_display" $section_to_display ) }}
{{ else }}

<article class="w-100 ph4-ns pb5 pb6-ns pt1 pt4-ns">
  <div class="flex-l">

    <div class="order-2 w-100 w-20-l ph5-m ph0-l mb4 sticky">
      {{- partial "toc.html" . -}}
    </div>
    <div class="order-1 pa3 w-40-l mw8 ph5-ns mid-gray nested-copy-line-height no-underline nested-links nested-img nested-copy-seperator nested-blockquote mt0-ns" style="flex-grow:1;">
      <div class="documentation-copy center measure-wide-l">
        <div id="readout" class="fixed right-0 bottom-0">
        </div>
        {{ .Render "page" }}
        {{ partial "related.html" . }}
        {{ partial "previous-next-links.html" . }}
      </div>
    </div>
    <div class="order-0 w-20 dn db-l">
      {{ partial "tags.html" . }}
      {{ partial "nav-links-docs.html" . }}
    </div>

  </div>
</article>
{{ end }}
{{ end }}
