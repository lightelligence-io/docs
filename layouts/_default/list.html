{{ define "nav" }}{{ partial "site-nav.html" . }}{{ end }}


{{ define "main" }}
  {{ $paginator := .Paginate (.Pages | lang.Merge (where .Sites.First.RegularPages "Section" .Section)) }}
  {{ $section_to_display :=  .Sections | default $paginator.Pages }}
{{ if not .Sites.First.RegularPages }}
  {{ partial "pagelayout-homepage.html" (dict "context" . "section_to_display" $section_to_display ) }}
{{ else }}
<article class="w-100 ph4-ns pb0 pb4-ns pt0 pt4-ns">
  <div class="flex-l">

    <div class="order-2 w-100 w-25-l ph5-m ph0-l mb4-l ml4-l">
      {{- partial "toc.html" . -}}
    </div>
    <div id="bg-blur" class="main-content order-1 mt5 bg-white mt0-ns boxshadow z-1 w-50-l ph0 ph3-ns mid-gray nested-copy-line-height no-underline nested-links nested-img nested-copy-seperator nested-blockquote mt0-ns">
      <div class="documentation-copy center ph3 pv4">
        <div id="readout" class="fixed right-0 bottom-0">
        </div>
        {{ .Render "page" }}
        {{ partial "related.html" . }}
        {{ partial "previous-next-links.html" . }}
      </div>
    </div>
    <div class="order-0 w-25 mr3 mr4-l dn db-l">
      {{ partial "nav-links-docs.html" . }}
    </div>

  </div>
</article>
{{ end }}
{{ end }}
