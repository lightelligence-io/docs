
[
    
    
    {
        "url": "/getting-started/",
        "title": "Getting Started",
        "content": "To get started with these OLT vehicles, perform the following scenarios:\n Connect an existing device to the OLT platform: Connecting a Device in 3 Steps\n Get an overview of the OLT portal function you will typically use when adding devices to your IoT system landscape: Walking Through the OLT Portal, Step by Step\n  "
    }
    
    , 
    {
        "url": "/users/",
        "title": "Mapping the OLT Landscape",
        "content": "Map your IoT system landscape.\nIn the Getting Started step of your OLT user journey, you got a technical understanding of the vehicles that can get you to your destination.\nNow, define your goals, map your destinations and choose the people to accompany you on your OLT journey.\n"
    }
    
    , 
    {
        "url": "/devices/",
        "title": "Managing the OLT Lifecycle",
        "content": "To connect your actual IoT system landscape to the OLT platform, replicate the processes you implemented in the Getting Started section of your OLT user journey.\nAdd one device after the other, according to the travel plan you have prepared under Mapping the OLT Landscape.\nKeep in touch with the places you have visited during your OLT journey: Monitor your devices and keep their firmware and configurations up-to-date.\n"
    }
    
    , 
    {
        "url": "/applications/",
        "title": "Developing Custom Applications",
        "content": "Design your OLT travel experience with custom applications.\nExplore your IoT system landscape(s) and exploit its data resources. As the tour guide of your end users, develop custom applications to shape the lookout points and views on the data that your IoT system landscapes deliver.\nWith custom applications you access the OLT API endpoints (https://api.lightelligence.io/v1/api-collection) and manage them.\n"
    }
    
    , 
    {
        "url": "/search/",
        "title": "Searching the Docs",
        "content": " Search the documents Begin to search.\n"
    }
    
    , 
    {
        "url": "/maintenance/",
        "title": "Tracking Changes",
        "content": ""
    }
    
    , 
    {
        "url": "/news/",
        "title": "Lightelligence Release Notes",
        "content": "##\n"
    }
    
    , 
    {
        "url": "/getting-started/setting-up-getting-started/",
        "title": "Connecting a Device in 3 Steps",
        "content": " A Raspberry Pi is an ideal companion for the first steps on your journey.\nConnect a Raspberry Pi to the OLT platform in three easy steps:\n Flash an operating system onto a Raspberry Pi. In the OLT portal, register to the OLT platform. Let a Bash script connect your Raspberry PI to the OLT platform and let and display the temperature and the IP address the Raspberry Pi transmits to the OLT platform.  By performing the required activities in the OLT portal and by analyzing what the Bash script does, you get\n a basic technical idea of the OLT concepts and mode of operation orientation in the OLT portal  Setting Up Your Raspberry Pi Prerequisites\nYou have\n a Raspberry Pi with an SD card an SD card reader  Procedure\n Under raspberrypi.org/downloads/raspbian/, download the Raspbian Stretch with desktop and recommended software image and unzip it.\n With a tool like Etcher flash the image to an SD card.\n Put the SD card into your Raspberry PI and power on.\n Adjust the settings and restart.\nSkip the software updates, that would take a while.\n  Result\nYour physical device is running and ready to get connected to the OLT platform.\nRegistering to the OLT platform and Creating a Tenant Create a test tenant in our free plan. You just need an e-mail address.\nProcedure\n Go to the OLT portal under https://portal.lightelligence.io.\n Choose Register and enter data as required.\n In the e-mail you receive, activate your account.\nYou go to the Welcome page.\n  Welcome to the LIGHTELLIGENCE® Portal!\n   Choose Create Tenant.\n Choose the Free / Starter plan and enter data as required.\nNote\nYou need a tenant name or ID in the subsequent process.\nTo test the OLT platform within the free plan, for the sake of our example, enter some random data.\nTo create an actual account, familiarize yourself with the multi-tenancy concept and create multiple tenants if required.\nFor more information, see Creating Tenants.\nThe tenant is created.\n  Creating a Tenant: Result\n   Choose Login with new tenant.\n  Result\nVia the Lightelligence portal, you have access to the OLT platform.\nA user is created by default.\nConnecting Your Raspberry Pi to the OLT platform With a Bash Script As a tenant, you can obtain the information required to connect your Raspberry Pi.\nProcedure\n Log on to your Raspberry PI and start a Web browser.\n Under github.com/lightelligence-io/scripts, download the raspbiansetup.sh Bash script.\nTo establish communication with the OLT platform, the Bash script does the following:\n Install the MQTT broker Mosquitto Install Python to process sensor and network data Install the Python module paho-mqtt to pass the Python data to Mosquitto  To execute the Bash script, do the following:\n Make it executable: chmod +x raspiansetup.sh. Execute it: ./raspiansetup.sh.  You are prompted to enter some information.\n As the platform URL enter lightelligence.io.\n To obtain the API token for authentication, do the following:\n Log on to the OLT portal. Click the tenant you have created.\n  Selecting a Tenant\n   Under Developer Area, copy the API token.\n    Displaying the Developer Area\n   Enter your tenant name.\nAlternatively, under Developer Area, copy the tenant ID.\n Specify the network interface.\n If you have connected the Raspberry Pi via WiFi, enter WLAN0. If you have connected it via ethernet, enter eth0.   Result\nWith these 3 steps, your Raspberry Pi is connected to the OLT portal, sending data.\nLet\u0026rsquo;s check it:\n In the OLT portal, choose Devices \u0026amp; Types -\u0026gt; Devices.\n  Displaying the Devices Overview\n   Click the Raspberry Pi that the Bash script has created.\nDevice information and the device status are displayed.\nUnder Configuration, the temperature and ip address sent by your Raspberry are displayed.\n  Displaying the Device Connection Status and Configuration\n    Understanding Device Types The Configuration corresponds to a property of a so-called device type.\nThe Bash script has created the device type. It describes the capabilities of your device.\nIn our example, the capabilities of the Raspberry Pi are to have a temperature and an IP address.\nLet\u0026rsquo;s check:\n To display the device type In the OLT portal, choose Devices \u0026amp; Types -\u0026gt; Device Types.\nYou go to the device types overview.\n  Displaying the Device Types Overview\n   Click the Raspberry Pi device type that the Bash script has created.\nUnder Device Type Information, you find attributes to define device classes.\nUnder Schema, the JSON schema containing the configuration properties is displayed.\nIt defines the ìpaddress and the temperature as configuration properties.\n  Displaying the Device Type Schema\n    In the Managing the OLT Lifecycle chapter of this documentation you will learn how define device types to map your specific IoT system landscape.\nNote\nIgnore the Reporting Rules field for now.\nWe will deal with it in the Storing and Retrieving Sensor Data scenario.\n"
    }
    
    , 
    {
        "url": "/users/creating-tenants/",
        "title": "Creating Tenants",
        "content": " What\u0026rsquo;s a Tenant? A tenant is the owner of a system landscape.\nAs a tenant, assign users and roles to manage the system landscape composed of IoT devices.\nUse Cases Create multiple tenants in one of the following cases, for example:\n Your organization manages system landscapes for various customers. Separate tenants help you facilitate the billing process. You manage system landscapes at different sites. Separate tenants can help you to keep the overview of complex system landscapes and monitor devices more efficiently. Alternatively, you can tag the devices according to their site. For reporting reasons, you want to assign tenants to cost centers.  Creating A Tenant Procedure\n Go to the OLT portal under https://portal.lightelligence.io.\n Choose Register and enter data as required.\n In the e-mail you receive, activate your account.\n On the Welcome page, choose Create Tenant.\n Choose the appropriate plan according to your organizational needs and enter data as required:\n Tenant Name: Indicate the location to be connected to the OLT platform, Northern plant, for example. VAT Registration Number\n Contact Person\n    Creating a Tenant\n  The tenant is created.\n  Creating a Tenant: Result\n   Choose Login with new tenant.\n  Result\nYour tenant is displayed. You can select it.\n  Selecting a Tenant\n  Via the OLT portal, you have access to the OLT platform.\nA user with owner role is created by default. Next Steps\nCreate users and assign the required roles to them: Managing Users.\n"
    }
    
    , 
    {
        "url": "/devices/reporting-getting-started/",
        "title": "Storing and Retrieving Sensor Data",
        "content": " You got started with setting up a Raspberry Pi and transmitting configuration data such as the IP address to the OLT platform. See Connecting a Device in 3 Steps.\nBy walking through the process manually, you got an idea of how the elements of the OLT platform interact. see Walking Through the OLT Portal, Step by Step.\nNow we add a new device type, to cover a typical IoT scenario: Storing time series sensor data in the OLT platform, and retrieving the data.\nTo do so, we attach a motion sensor to the Raspberry Pi.\nAgain, we provide you with a Bash script to install software and send the sensor to the OLT platform, automatically.\nThe Bash script creates a device type with a JSON schema containing a property called attributes.\nWe use the configuration property in the first scenario for read/write activities, for example setting the target temperature of a thermostat.\nThe attributes property is for read-only activities, its typical use case is reading sensor data.\nHere we go:\n Use the Bash script to set up your sensor and connect it to the OLT platform.\n To store the sensor data in the OLT platform, enable reporting.\n Simulate an application retrieving the time series data from the OLT platform. To do so, make a GET request to one of the timeseries endpoints of the OLT API.\n  Setting Up Your Sensor Attach a motion sensor to your Raspberry Pi and execute a Bash script to connect it to the OLT platform.\nPrerequisites\n You have connected your Raspberry Pi with the raspiansetup.sh Bash script described under Connecting a Device in 3 Steps.\nWith this scenario, you have installed an MQTT client, Python, and the Python module paho-mqtt on your Raspberry.\n You have attached a sensor to your Raspberry Pi.\nIn our example, we connect a motion sensor HC-SR501 PIR to GPIO pin 4.\n  Procedure\n Ensure that your sensor is connected to your Raspberry Pi.\nIn our example, we connect an HC-SR501 PIR sensor as follows:\n   Sensor Raspberry Pi     VCC VCC 5V   Out GPIO Pin 4   GND Ground    Under github.com/lightelligence-io/scripts, download the install_motion-sensor.sh Bash script.\nThe script does the following:\n Prompt you to enter your API token. Prompt you to enter the tenant name or ID. Create a device in the OLT platform and a corresponding device type. Generate a device key Generate a device certificate. Save a Python program presence.py in the directory created. The Python program passes the sensor data to the OLT platform via MQTT messages. Create a cron job to execute the Python program.  To execute the Bash script, do the following:\n Make it executable: chmod +x install_motion-sensor.sh. Execute the script: ./install_motion-sensor.sh.  On request of the Bash script, do the following:\n Enter the platform URL ´lightelligence.io`. Enter the API token displayed in in the OLT portal under Developer Area. Enter your tenant name or your tenant ID displayed in in the OLT portal under Developer Area.    Result\nThe Bash script creates a device certificate and sets up the MQTT communication.\nYour Raspberry Pi is now sending the motion sensor\u0026rsquo;s data.\nIf you analyze the Bash script, you see it does so by pushing updates from your device to the server via the mosquitto_pub command:\nmosquitto_pub -h mqtt.lightelligence.io \\\r-p 8883 --cert device_cert.pem --key device_key.pem \\\r-d -t data-ingest \\\r-m \u0026#39;{ \u0026#34;type\u0026#34;: \u0026#34;configuration\u0026#34;, \u0026#34;value\u0026#34;: { \u0026#34;presence\u0026#34;: 1 } } \\\r-V mqttv311 --cafile olt_ca.pem The topic is data-ingest.\nThe payload is the device type property and the current value.\nLet\u0026rsquo;s check:\n In the OLT portal, choose Devices \u0026amp; Types. In the Devices overview, click the presence sensor the Bash script has created.\nThe latest sensor signal is displayed under Status \u0026amp; Diagnosis.\n  Verifying Sensor Data Is Transmitted\n  Note that the sensor data is displayed under Attributes.\nThis corresponds to the attributes Property in the JSON schema the Bash script has created.\n  Displaying attributes Property in the JSON Schema\n   Optional: To verify if your sensor is actually sending data, execute ./presence/presence.py and move the sensor.\n1 means the sensor is detecting motion, 0 means there is no motion.\n  Enabling Reporting So far, we have connected the sensor to the OLT platform. That means we get the latest sensor reading.\nBut our use case is to store the sensor data in the OLT platform and retrieve times series data from the OLT platform.\nTo store the data, activate reporting in the corresponding device type.\nProcedure\n Open the device type, in our example the device type corresponding to the motion sensor.\n Under Reporting Rules, choose Edit.\n Insert the following reporting rule:\n[\r{\r\u0026#34;path\u0026#34;: \u0026#34;$.attributes.presence\u0026#34;,\r\u0026#34;reportTo\u0026#34;: [\r\u0026#34;timeseries\u0026#34;\r]\r}\r]\r A reporting rule is composed of a JSON Path and a reportTo property.\n  Editing Reporting Rules\n    Result\nYour motion sensor data is stored in the OLT platform. Let\u0026rsquo;s verify this in the last step.\nRetrieving Time Series Data Simulate an application access your sensor data stored in the OLT platform.\nTo get, for example, the last hour of the sensor\u0026rsquo;s time series data, make a GET request to the /v1/devices/{deviceId}/last-timeseries endpoint.\nProcedure\n To obtain the motion sensor\u0026rsquo;s device ID, choose Devices \u0026amp; Types.\nThe ID is displayed in the device overview.\n  Displaying Device IDs\n   Obtain the API token under Developer Area.\n Provide the query parameter path to make the request, in our example path=$.attributes.presence.\nEnsure that the request is URL-encoded, as in the following cURL example.\ncurl -X GET \\\r\u0026#34;https://api.lightelligence.io/v1/devices/c42ff2fb-007f-4bd4-ac05-c4e610f34895/last-timeseries?path=%24.attributes.presence\u0026#34; \\\r-H \u0026#39;Authorization: Bearer {authenticationToken}\u0026#39; \\\r-H \u0026#39;Cache-Control: no-cache\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39;\r  Result\nYour sensor data is retrieved.\n  Retrieving Time Series Data\n  Note\nThe time stamp format is Coordinated Universal Time (UTC).\n"
    }
    
    , 
    {
        "url": "/users/managing-users/",
        "title": "Managing Users",
        "content": " Understanding the Role Concept When creating a tenant, a default user is created whose role is owner.\nThe owner owns the tenant and has no restrictions in the OLT portal.\nOwners can assign the following roles to users:\n A writer is not authorized to manage the tenant data.\nWriters can, for example\n develop applications manage the solution by defining device types or creating devices   A reader is not authorized to manage the solution. Readers can read data, for example.\n  As the owner, you have, for example, the following options:\n Create additional owners to manage the tenant.\nTo do so, invite a user and assign the owner role.\n Invite users and assign roles\n Assign users to a tenant\n List the tenants assigned to a user\n  The owner role implies the writer role permissions. The writer role implies the reader role permissions.\nNote\nRestricted owner permissions in custom applications\nFor security reasons, unrestricted access as an owner is only possible in the OLT portal.\nIf you develop custom applications, you can\u0026rsquo;t access endpoints related to user management even if your user has the owner role.\nFor more information, see Developing Custom Applications.\nInviting Users As the tenant owner, create new users by inviting them to the tenant.\nPrerequisites\nTo be able to accept your invitation, users must have created an account in the portal.\nProcedure\n If the user is new to the OLT platform, ask the user to create an account, to be able to accept the invitation.\nTo do so, ask the user to go to https://portal.lightelligence.io and choose Register.\n In the OLT portal, choose Users.\n Choose Invite User.\n Enter data as required.\n To confirm, choose Invite to tenant.\n  Result\nThe invited user appears on the Pending tab.\nThe user receives an invitation e-mail with a link directing to the OLT portal.\nOn logging on to the portal, the user is asked to accept the invitation.\nAssigning or Changing Roles As a user with the owner role, assign roles to users or change the roles.\nProcedure\n As a user with owner authorization, log on to the OLT portal.\n To edit the roles, click the user.\nYou go to the Edit User window.\n Select the required roles and confirm.\n  "
    }
    
    , 
    {
        "url": "/getting-started/connectivity-getting-started/",
        "title": "Walking Through the OLT Portal, Step by Step",
        "content": " In the first scenario, our Bash script connects an existing device to the OLT platform automatically, in our example a Raspberry Pi.\nNow we describe how you would connect a device manually.\nThe process gives you\n an idea of the components of a solution, especially how we guarantee secure communication an overview of the OLT portal functions  The OLT platform talks MQTT with the devices attached, so we want to achieve that your device exchanges MQTT messages with the OLT platform.\nTo verify the connection works you\u0026rsquo;ll send a sample MQTT message to the OLT platform manually.\nThe process does the same as our Bash script.\nCreating a Device Type The following procedure is equivalent to the POST request to the /device-types endpoint in our Bash script.\nProcedure\n Log on to the OLT portal. Click the tenant you have created. Under Devices \u0026amp; Types, choose Device Types. Choose Create Device Type. Enter data as required. In our example, enter \u0026ldquo;Raspberry Pi\u0026rdquo; as the device type name.\n Choose Proceed to Parameters. In the Configurations, Attributes and Actions field, add the following sample configuration parameter ipaddress.\nNote\nIgnore the Reporting Rules field for now.\nWe will deal with it in the Storing and Retrieving Sensor Data scenario.\n{\r\u0026#34;attributes\u0026#34;: {},\r\u0026#34;configuration\u0026#34;: {\r\u0026#34;ipaddress\u0026#34;: {\r\u0026#34;type\u0026#34;: \u0026#34;string\u0026#34;}\r},\r\u0026#34;actions\u0026#34;: {}\r}\r   Defining a Device Type Schema\n   To confirm, choose Create Device Type.\nThe device type is displayed on the Device Types tab.\nAt the moment, the content doesn\u0026rsquo;t matter. We just need any device type.\n  Creating a Device In the OLT platform, create a digital twin of your device based on the device type created.\nThe following procedure is equivalent to the POST request to the /devices endpoint in our Bash script.\nProcedure\n Under Devices \u0026amp; Types | Devices, choose Create Device. Select the device type you have created under Creating a Device Type and choose Proceed to Device. Describe the device. In our example, enter \u0026ldquo;Raspberry Pi\u0026rdquo; as the device name.\nNote\nIn a production system, metadata like name, location, description and tags help you to monitor and maintain the devices in your system landscape.\nFor more information, see Managing Devices.\n To confirm, choose Create Device.\n Choose Skip.\nWhy skip?\nYou don\u0026rsquo;t have a device certificate yet. You\u0026rsquo;ll create it in the next step and perform the skipped step later (under Register the Device To the OLT Platform).\nBut to create the device certificate, you need the device name or ID in the first place.\n  Result\nThe device name and ID are displayed.\n  Displaying the Device ID\n  Generating a Device Certificate Create a unique SSL/TLS client certificate for your device.\nDuring the TLS handshake between your device and the platform, the platform uses the device certificate to identify and authenticate your device.\nIn our example, use the OpenSSL command line utility to create a self-signed device certificate for your Raspberry PI.\nThe following procedure is equivalent to the POST request to the /devices endpoint in our Bash script.\nProcedure\n Create a directory in which to create the device certificate. To create a private key to sign the device certificate to be generated, execute openssl ecparam -out device_key.pem -name prime256v1 -genkey.\nA file called device_key.pem containing the private key is in your directory.\n Create a device certificate and sign it with the private key generated.\nProceed as follows:\n Obtain the following information:\n Look up the tenant ID under Developer Area or the tenant name on the Tenant Selection page.     Displaying the Tenant ID in the Developer Area\n   Look up the device name or the device ID displayed under Devices \u0026amp; Types | Devices.  Use the -subj parameter to insert the information in the following command: openssl req -new -key device_key.pem -x509 -days 365 -out device_cert.pem -subj '/O=\u0026lt;Tenant ID\u0026gt;/CN=\u0026lt;Device ID\u0026gt;' and execute the command.\nExample: req -new -key device_key.pem -x509 -days 365 -out device_cert.pem -subj '\\O=Sample-Tenant\\CN=Sample-Device'\n   Result\nThat\u0026rsquo;s it! The device certificate is in your directory.\n  Displaying the Device Certificate\n  Registering the Device to the OLT Platform Enter the device certificate you have created under Generating a Device Certificate.\nProcedure\n Open the device certificate. In the OLT portal, paste the device certificate content into the Certificates field.   Adding the Device Certificate\n   To confirm, choose Save.  Result\nThe device is registered to the OLT platform.\nThe device certificate status is displayed.   Displaying the Device Certificate Status\n  Congrats! Your device is now able to talk to OLT platform.\nTurning Your Device into a Mosquitto Client The OLT platform talks MQTT (Message Queue Telemetry Transport).\nSo next you turn your device into an MQTT client. To establish the connection to the cloud, install Mosquitto, for example.\nProcedure  To install Mosquitto, follow the guidelines for your operation system under https://www.eclipse.org/mosquitto/download/. Copy and paste the certificate below into a file named olt_ca.pem and you are ready to go. /getting-started/connectivity-getting-started/   -----BEGIN CERTIFICATE-----\rMIICBzCCAaygAwIBAgIBADAKBggqhkjOPQQDAjBcMQswCQYDVQQGEwJERTEOMAwG\rA1UEChMFT1NSQU0xDDAKBgNVBAsTA09MVDEvMC0GA1UEAxMmT1NSQU0gT0xUIERl\rdmljZVNlcnZpY2VzIFRydXN0QW5jaG9yIDEwIBcNMTgwNjEyMTU1NTMwWhgPMjA1\rODA2MTIxNTU1MzBaMFwxCzAJBgNVBAYTAkRFMQ4wDAYDVQQKEwVPU1JBTTEMMAoG\rA1UECxMDT0xUMS8wLQYDVQQDEyZPU1JBTSBPTFQgRGV2aWNlU2VydmljZXMgVHJ1\rc3RBbmNob3IgMTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABIRHefdjW8eKPEpi\rRV88sqk/7nqOIDdg4v2KcIsX8LQD94YGkDEDO4Alg3EdtibTXMtztbSiRMmy/BeB\r7Fmbr\u0026#43;KjXTBbMB0GA1UdDgQWBBQmEJ8uur\u0026#43;FfHaFxDYw1oeYNu1M6TAfBgNVHSME\rGDAWgBQmEJ8uur\u0026#43;FfHaFxDYw1oeYNu1M6TAMBgNVHRMEBTADAQH/MAsGA1UdDwQE\rAwIBBjAKBggqhkjOPQQDAgNJADBGAiEA1dAeBWcIDUyOzuQSzhO0cajg3mZfiHp/\rNwryIKRR9fgCIQDKqKmKv1STjPEePu4NL2YEqsVauaVl4CVQIYVjEwN3cw==\r-----END CERTIFICATE-----\r    Ensure that the following files are in your Mosquitto directory:  device_cert.pem device_key.pem olt_ca.pem   Verifying Your Device Can Communicate with the OLT Platform Send a message from your device to the OLT platform.\nUnder Creating a Device Type you have defined a device type schema specifying a configuration parameter called ipaddress whose data type is string.\nVia an MQTT message, send a random IP address, 192.168.1.1, for example.\nThen check whether the IP address has actually been sent to the OLT platform.\nProcedure\nTo change the configuration in the OLT platform, enter the following command:\nmosquitto_pub -h mqtt.lightelligence.io \\ -p 8883 --cert device_cert.pem --key device_key.pem \\\r-d -t data-ingest \\\r-m \u0026#39;{ \u0026#34;type\u0026#34;: \u0026#34;configuration\u0026#34;, \u0026#34;value\u0026#34;: { \u0026#34;ipaddress\u0026#34;: \u0026#34;192.168.1.1\u0026#34; } }\u0026#39; \\\r-V mqttv311 --cafile olt_ca.pem The command is composed of the following components:\n mqtt.lightelligence.io is the address of the OLT platform you want to connect to. mqttv311 is the protocol to be used. cafile is the OLT certificate of the Certificate Authority that has issued the TLS certificate of the OLT platform\u0026rsquo;s MQTT service. { \u0026quot;type\u0026quot;: \u0026quot;configuration\u0026quot;, \u0026quot;value\u0026quot;: { \u0026quot;ipaddress\u0026quot;: \u0026quot;192.168.1.1\u0026quot; } } is the MQTT message containing the configuration change you want to publish for your device.   Result\nYour output is similar to the one below:\nClient mosqpub/9736-W541 sending CONNECT\rClient mosqpub/9736-W541 received CONNACK\rClient mosqpub/9736-W541 sending PUBLISH (d0, q0, r0, m1, \u0026#39;data-ingest\u0026#39;, ... (51 bytes))\rClient mosqpub/9736-W541 sending DISCONNECT   Sending an MQTT Message\n  The updated configuration is displayed in the OLT portal, under Status \u0026amp; Diagnostics.   Displaying the Updated Configuration\n  Result\nCongrats! You have connected your device to the OLT platform.\nYou have a detailed idea of our Bash script enabled your Raspberry PI to talk with the OLT platform via encrypted messages.\n"
    }
    
    , 
    {
        "url": "/devices/actions-getting-started/",
        "title": "Executing Commands on Devices",
        "content": " Besides reading sensor data, executing commands on devices is another basic IoT use case.\nSo, let\u0026rsquo;s write values to devices, to trigger actions.\nIn the JSON schema of a device type, we have another dedicated property for this, actions.\nWhile the attributes property is read-only, the actions property is write-only.\nActions are commands that a device can execute.\nIn the following example light up an RGB LED by sending a certain color code in 2 steps:\n Use the Bash script to set up your RGB LED and connect it to the OLT platform. Simulate an application lighting up the LED. To do so, make a POST request to the /devices/{deviceId}/actions MQTT endpoint.  Setting Up Your LED Attach an RGB LED to your Raspberry Pi and execute a Bash script to connect it to the OLT platform.\nPrerequisites\nYou have connected your Raspberry Pi with the raspiansetup.sh Bash script described under Connecting a Device in 3 Steps.\nWith this scenario, you have installed an MQTT client, Python, and the Python module paho-mqtt on your Raspberry.\nProcedure\n Attach a 4-pin RGB-LED to your Raspberry Pi.\nIn our example, we map the GPI pins as follows:\n   LED Raspberry Pi     Red GPIO Pin 23   Cathode Ground   Green GPIO Pin 24   Blue GPIO Pin 25    Under github.com/lightelligence-io/scripts, download the install_rgb-led.sh Bash script.The bash script does the following:\n Prompt you to enter your API token. Prompt you to enter the tenant name or ID. Create a device in the OLT platform and a corresponding device type. Generate a device key Generate a device certificate. Save a Python program rgb.py in the directory created. The Python program passes the action data from the OLT platform to the device via MQTT messages Create a cron job to execute the Python program Subscribe your device to the MQTT endpoint of the OLT platform  To execute the Bash script, do the following:\n Make it executable: chmod +x install_rgb-led.sh. Execute the script: ./install_rgb-led.sh.  On request of the Bash script, do the following:\n Enter the platform URL ´lightelligence.io`. Enter the API token displayed in in the OLT portal under Developer Area. Enter your tenant name or your tenant ID displayed in in the OLT portal under Developer Area.   Result\nYour Raspberry Pi is now able to receive actions from the OLT platform.\nWhen you inspect the script, you will see its purpose is to connect your device to the MQTT endpoint of the OLT platform.\nTo do so, it subscribes the Raspberry Pi to the devices/{deviceId}/actions MQTT topic:\nmosquitto_sub -h mqtt.lightelligence.io \\\r-p 8883 --cafile olt_ca.pem --cert device_cert.pem --key device_key.pem \\\r-V \u0026#34;mqttv311\u0026#34; -t \u0026#39;devices/{deviceId}/actions\u0026#39; \\\r-d Also, the Bash script has created the following:\n a device type with a JSON schema containing the actions property.\n  Editing the actions Property\n   a digital twin associated with the device type.\n  Triggering an Action on Your Device Trigger an action on your device.\nTo do so, make a POST request to the /devices/{deviceId}/actions MQTT endpoint, as in the following cURL example.\nTo light up the LED in blue, use the following message, for example:\ncurl -X POST \\\r\u0026#34;https://api.lightelligence.io/v1/devices/383b8c61-a9c7-487f-b4e1-66fad753e546/actions\u0026#34; \\\r-H \u0026#39;Authorization: Bearer {authenticationToken}\u0026#39; \\\r-H \u0026#39;Cache-Control: no-cache\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39; \\\r-d \u0026#39;{ \u0026#34;action\u0026#34;: \u0026#34;ambientLight\u0026#34;,\r\u0026#34;payload\u0026#34;: {\r\u0026#34;r\u0026#34;: 0,\r\u0026#34;g\u0026#34;: 0,\r\u0026#34;b\u0026#34;: 1\r},\r\u0026#34;description\u0026#34;: \u0026#34;Switch on blue light\u0026#34;\t}\u0026#39; Result\nAn action ID is generated ({\u0026quot;data\u0026quot;:{\u0026quot;actionId\u0026quot;:\u0026quot;5895f5f0-93e9-428c-a4b6-580eb814f11e\u0026quot;}}, for example).\nThe LED is switched on. In our example, it lights up blue.\n  Triggering an Action\n  You have successfully forwarded an action to your device.\n"
    }
    
    , 
    {
        "url": "/users/creating-custom-roles/",
        "title": "Defining Custom Roles",
        "content": " Custom Roles and Permissions for Applications By default, the OLT platform checks whether a user has the read or write OLT permission to access a specific endpoint.\nWith custom applications, you access the OLT API endpoints. With custom roles, you can assign custom permissions to control on a more granular level what a user is allowed to do with a custom application.\nSo, a part of designing custom applications is to determine whether you wish to define custom roles.\nIf you decide to implement a custom role concept and to develop custom applications that implement custom permissions, follow the instructions under Defining Custom Permissions and Roles.\n"
    }
    
    , 
    {
        "url": "/getting-started/basic-concepts/",
        "title": "Recapitulating Basic Concepts",
        "content": " Understanding the Concepts You now know some basic concepts:\n A tenant owns the physical devices in an IoT system landscapes.\nYou create a tenant by registering to the OLT platform.\n A device type describes the capabilities of a class of devices: which data they can exchange with the OLT platform.\nYou can create and edit device types for device classes such as sensors, actors, or gateways in the OLT portal. Or create it with an HTTP request to the OLT API, as our Bash script does.\n A device is a digital twin of a physical device, representing it in the OLT platform with the properties defined in the corresponding device type.\nYou can create and edit device types and display their status in the OLT Portal. Or create them with HTTP requests as in our Bash script.\n  Practicing To learn what\u0026rsquo;s under the hood when you execute the Bash script, perform the steps manually. Go to Walking Through the OLT Portal, Step by Step,\n"
    }
    
    , 
    {
        "url": "/users/security/",
        "title": "Considering Security",
        "content": " Enabling Two-Factor Authentication We recommend using two-factor authentication.\nProcedure\nAs a user, proceed as follows:\n Choose Profile.   Editing the Profile Settings\n   On the Two-Factor Authentication tab, follow the instructions.\n  Downloading the Audit Log As a tenant, to comply with the General Data Protection Regulation (GDPR), you can download an csv file logging tenant-related user activities.\nAudit message example:\n User tom.tester@example.com (ID 1a7db926-e0fa-459f-ba91-7390f03b6688) accepted the invite to \u0026lsquo;Central Plant\u0026rsquo; (ID e6a3d2ef-16f7-4d50-883f-5b17a5def7ae).\n Procedure\nUnder Details, choose Download Audit Log as CSV.\n  Downloading the Audit Log\n  "
    }
    
    , 
    {
        "url": "/applications/authenticating-with-oauth2/",
        "title": "Authenticating with OAuth2",
        "content": " To be able to actually use applications, perform two basic steps:\n Register your applications to the OLT platform.\nBy registering your application to the OLT platform, you turn your application into an OAuth2 client authenticating via OpenID Connect.\n Implement OAuth2 in your application.\n  Restrictions For security reasons, custom applications are not allowed to use API endpoints related to tenant management and user management.\nFor more information, see Troubleshooting Application Management.\nOAuth2 Background To authenticate users and background applications, we use the OAuth2 protocol and OpenID Connect.\nTo access the OLT API, an OAuth2 access token is required.\nTo retrieve an OAuth2 access token, you need an OAuth2 client.\nWithout a registered application, access to the OLT API is not possible.\nFor more information about the OAuth2 protocol and OpenID Connect, see\n RFC 6749 - The OAuth 2.0 Authorization Framework OpenID Authentication 2.0.  Permissions We don\u0026rsquo;t use the OAuth2 protocol to grant permissions to applications.\nThe application permissions are controlled by the user roles.\nFor more information, see Managing Users.\nYou can implement custom permission in your applications, assign them to custom user roles and use the OLT platform to verify the custom permissions.\nFor more information, see Defining Custom Permissions and Roles.\n"
    }
    
    , 
    {
        "url": "/applications/use-cases/",
        "title": "Identifying Your Use Case",
        "content": " Choose an applications type depending on your use case, and off you go.\nApplications with User Interaction To retrieve an OAuth2 access token, you can implement an OAuth2 client with or without OAuth2 client secret, depending on the application type:\n Web application running on a web server (in which the application source code is protected): Implement a confidential OAuth2 client with OAuth2 client secret. User agent application running in a browser (in which the application source code may be viewed), a JavaScript application, for example: Implement a public OAuth2 client without OAuth2 client secret.  For safety reasons, we recommend web applications using a backend service providing the OAuth2 client secret.\nIn this case, proceed with Creating and Implementing Applications with User Interaction.\nBackground Applications without User Interaction A background application is installed on the computer.\nBackground applications are not connected to a user.\nCreate background applications for the following use cases, for example:\n A server running scheduled events fetching data from the OLT platform A background script fetching device data for all tenants which have installed an application, independent of users Slackbot or other notification applications   In this case, proceed with Creating Background applications without user interaction.\n"
    }
    
    , 
    {
        "url": "/applications/registering-user-applications/",
        "title": "Registering and Implementing User Applications",
        "content": " To turn a user application into an OAuth2 client, register it to the OLT platform and implement OAuth2 in your application.\nNote\nSimulating Applications\nIn the following, we use OAuth 2.0 \u0026lt;debugger/\u0026gt; (https://oauthdebugger.com) to simulate an application.\nPrerequisites\nTo register applications to the OLT platform, you have owner or writer authorization.\nNote\nChecking permissions\n If you use default roles, to verify you have owner or writer authorization, in the OLT portal, under Users, check your roles.\n If you use custom roles, verify the user permissions for the specific endpoints.\nFor more information, see Defining Custom Roles.\n  Registering and Installing an Application To access your data in the OLT platform, create an application using the OLT API.\nTo allow your application to communicate with the OLT platform, create an OAuth2 client.\nProcedure\n Obtain your tenant ID and an API token:\n Log on to the OLT portal https://portal.lightelligence.io/. Select the tenant who is to own the application. Under Developer Area, look up the  API token (in our example \u0026ldquo;eyJhbGciOi \u0026hellip;\u0026rdquo;) tenant ID (in our example \u0026ldquo;b1747579-355 \u0026hellip;\u0026rdquo;)   Displaying the API Ttoken and Tenant ID in the Developer Area\n     To register the application to the OLT platform, make a POST request to the /application-developer/applications endpoint.\nYou have the following options, depending on the application type:\n Web application (recommended): Create web applications authenticating users with the OAuth2 client secret.\nEnsure that the withPublicOauth2Client property is set to false (confidential).\n User Agent application: If you don\u0026rsquo;t have a backend service to store the OAuth2 client secret, set the withPublicOauth2Client property to true (public).\n  The request passes the following data:\n one or more redirect URLs where your application is to be hosted.\nDefine different redirect URLs for development, test, and production, for example.\nWildcards (*) are not allowed in the redirect URLs.\nIn our simulation, the redirect URL is https://oauthdebugger.com/debug.  the API token\n the tenant ID of the tenant owning the application\nNote\nManaging Applications\nYou can change the application properties later.\nAdd a description and a URL to provide additional information, for example.\nIf you have multiple tenants, to facilitate application management consider assigning all applications to the same tenant owning the applications.\nFor more information, see Managing Custom Applications.\n  Example of a web application authenticating users with the OAuth2 client secret (\u0026quot;withPublicOauth2Client\u0026quot;: false): curl -X POST \\\rhttps://api.lightelligence.io/v1/application-developer/applications \\\r-H \u0026#39;Authorization: Bearer {API token}\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39; \\\r-d \u0026#39;{\r\u0026#34;name\u0026#34;: \u0026#34;My application name\u0026#34;,\r\u0026#34;withPublicOauth2Client\u0026#34;: false,\r\u0026#34;allowedTenants\u0026#34;: [\r{\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;comment\u0026#34;: \u0026#34;Example Inc., northern plant\u0026#34;\r}\r],\r\u0026#34;redirectUris\u0026#34;: [\r\u0026#34;https://oauthdebugger.com/debug\u0026#34;, \u0026#34;https://dev.application.com/auth/callback\u0026#34;,\r\u0026#34;https://prod.application.com/auth/callback\u0026#34;\r]\r}\u0026#39;\r You get a response similar to the following. The type is confidential (web application) or public (user agent application).\nThe response contains the following data:\n application ID (in our example \u0026ldquo;3333333-1111-2222-3333-4534g4gd4\u0026rdquo;) OAuth2 client ID (in our example \u0026ldquo;7222223-1111-2222-3333-fb4444444b7c\u0026rdquo;) OAuth2 client secret (in our example \u0026ldquo;-9vxPaAd3HmXhNXf\u0026rdquo;)   Example of a response for a web application (\u0026quot;withPublicOauth2Client\u0026quot;: false):\n{\r\u0026#34;data\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;3333333-1111-2222-3333-4534g4gd4\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;My Web Application\u0026#34;,\r\u0026#34;withPublicOauth2Client\u0026#34;: false,\r\u0026#34;oauth2Client\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;7222223-1111-2222-3333-fb4444444b7c\u0026#34;,\r\u0026#34;secret\u0026#34;: \u0026#34;-9vxPaAd3HmXhNXf\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;confidential\u0026#34;\r},\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;status\u0026#34;: \u0026#34;active\u0026#34;,\r\u0026#34;createdAt\u0026#34;: \u0026#34;2019-04-25T1515.392Z\u0026#34;,\r\u0026#34;updatedAt\u0026#34;: \u0026#34;2019-04-25T1515.392Z\u0026#34;,\r\u0026#34;allowedTenants\u0026#34;: [\r{\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;createdAt\u0026#34;: \u0026#34;2019-04-25T1515.407Z\u0026#34;,\r\u0026#34;installed\u0026#34;: false,\r\u0026#34;comment\u0026#34;: \u0026#34;Example Inc., northern plant\u0026#34;\r}\r],\r\u0026#34;redirectUris\u0026#34;: [\r\u0026#34;https://oauthdebugger.com/debug\u0026#34;,\r\u0026#34;https://dev.application.com/auth/callback\u0026#34;,\r\u0026#34;https://prod.application.com/auth/callback\u0026#34;\r],\r}\r}\r Example of a response for a user agent application (\u0026quot;withPublicOauth2Client\u0026quot;: true):\n{\r\u0026#34;data\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;2f594b28-411e-4334-9f72-75e1bff2e7f3\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;My User Agent Application\u0026#34;,\r\u0026#34;withPublicOauth2Client\u0026#34;: true,\r\u0026#34;oauth2Client\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;fe1e5704-1fb1-4e66-818d-f7724f1743e0\u0026#34;,\r\u0026#34;secret\u0026#34;: \u0026#34;gX1WLw4O7YBwjsw5\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;confidental\u0026#34;\r},\r\u0026#34;publicOauth2Client\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;3f7225f7-9818-4634-8613-c9676935847a\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;public\u0026#34;\r},\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;status\u0026#34;: \u0026#34;active\u0026#34;,\r\u0026#34;createdAt\u0026#34;: \u0026#34;2019-05-16T0910.825Z\u0026#34;,\r\u0026#34;updatedAt\u0026#34;: \u0026#34;2019-05-16T0910.825Z\u0026#34;,\r\u0026#34;redirectUris\u0026#34;: [\r\u0026#34;https://oauthdebugger.com/debug\u0026#34;,\r\u0026#34;https://dev.application.com/auth/callback\u0026#34;,\r\u0026#34;https://prod.application.com/auth/callback\u0026#34;\r],\r\u0026#34;allowedTenants\u0026#34;: [\r{\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;createdAt\u0026#34;: \u0026#34;2019-05-16T0910.918Z\u0026#34;,\r\u0026#34;installed\u0026#34;: false,\r\u0026#34;comment\u0026#34;: \u0026#34;Example Inc., northern plant\u0026#34;\r}\r]\r}\r}\r You have now registered the application to your tenant, so the application is available to be installed in the tenant.\n Implement a process to store the OAuth2 client secret.\nIf you develop a user agent application without a backend service to store the OAuth2 client secret, ensure that you have set the withPublicOauth2Client property to true, in step 1.\nNote\nWhy store the OAuth2 client secret?\nTo display application data, you can use the /application-developer/applications endpoint.\nBut the response does not contain the OAuth2 client secret.\nIf you don\u0026rsquo;t store it, you have to regenerate it making a POST request to the /application-developer/applications/{applicationId}/secret endpoint.\n To install the application, make a PUT request to the /applications/{applicationId}/installation endpoint.\ncurl -X PUT \\\rhttps://api.lightelligence.io/v1/applications/{applicationID}/installation \\\r-H \u0026#39;Authorization: Bearer {API token}\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39;\r In our example:\ncurl -X PUT \\\rhttps://api.lightelligence.io/v1/applications/3333333-1111-2222-3333-4534g4gd4/installation \\\r-H \u0026#39;Authorization: Bearer {eyJhbGciOi ...} \\\r-H \u0026#39;Content-Type: application/json\u0026#39;\r Optional: To verify the installation, make a GET request to the /applications/{applicationId} endpoint.\n  Result\nYou get a response similar to the following:\n{\r\u0026#34;data\u0026#34;: {\r\u0026#34;tenantId\u0026#34;: \u0026#34;b1747579-355d-4b7a-aa72-c2336d3a7211\u0026#34;,\r\u0026#34;createdAt\u0026#34;: \u0026#34;2019-04-25T1020.312Z\u0026#34;\r}\r} Your application is registered to the OLT platform and installed in the tenant owning the application.\nA user can logon to the OLT platform and use your application as an OAuth2 client to get data from the tenant in which the application is installed.\nInstalling the Application in Multiple Tenants To install an existing application in additional tenants, whitelist the tenants and install the application in each of them.\nFor more information, see Managing Custom Applications.\nImplementing OAuth2 in the Application Enable your application to act as an OAuth2 client, depending on the application type:\n Web application running on a web server User agent application running in a browser  Implementing a Web Application If you have a web application (in which the application source code is protected), implement a confidential OAuth2 client with OAuth2 client secret.\nWe recommend web applications due to safety reasons.\nPrerequisites\nWhen registering the application to the OLT platform, you have set the application property withPublicOauth2Client to false (see above).\nProcedure\n To get the OAuth2 authorization code, redirect the API call to the URL of our OLT authorization server (id.lightelligence.io):\nhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/auth \\\r?client_id={oauth2Client.id} \\\r\u0026amp;redirect_uri={redirectUri} \\\r\u0026amp;scope=openid \\\r\u0026amp;response_type=code \\\r\u0026amp;response_mode=form_post \\\r In our example, we authenticate the OAuth 2.0 \u0026lt;debugger/\u0026gt; application simulation hosted under https://oauthdebugger.com/debug: https://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/auth \\\r?client_id=7222223-1111-2222-3333-fb4444444b7c \\\r\u0026amp;redirect_uri=https://oauthdebugger.com/debug \\\r\u0026amp;scope=openid \\\r\u0026amp;response_type=code \\\r\u0026amp;response_mode=form_post \\\r   Simulating an Authorization Code Request with OAuth 2.0 \u0026lt;debugger/\u0026gt;\n  If the user isn\u0026rsquo;t logged on to the OLT platform already, the login screen appears.\nOn selecting the tenant, the user is redirected to the redirect URL.\nYou get the OAuth2 authorization code, in our example eyJhb ...:\n{\rname: \u0026#39;code\u0026#39;, value: \u0026#39;eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..ZT1EOZlAoohBhGj2J24ydw.uyRYHynYGlrNpve4UmjsMXzVfXp2XBQPfXHrQWjfqYrPOUZVWoDWDJp7DpWvL8YAPnKANQnUsfEyE3JMA7qdOUHNr5wf2mT1tU3L1RBARui3gefXWlSZXTcC-ULnPmwjqyfVKRb5IPG-6N2Y20Xn0BBFEZEtN1AXslYvts4nKUG-Metg03NKP9Pi3CYVFrlUZIR6sAGsIeNXRiJPtXZ7CtQPStQGOMK_Y-TCXKWT9WUem7FOn3b_U_p7dEWR5Grp.I6Me3lQsqicV9zoH6i293g\u0026#39; },{ name: \u0026#39;session_state\u0026#39;, value: \u0026#39;da6ee469-6030-495f-a1ce-7262a7b65ef9\u0026#39; } ]\r}\r   Getting the OAuth2 Authorization Code with OAuth 2.0 \u0026lt;debugger/\u0026gt;\n   To get an OAuth2 access token, implement a browser callback function to extract the OAuth2 authorization code and make the following POST request to the /id/auth/realms/olt/protocol/openid-connect/token.\nThe request passes the following data to the OLT authorization server:\n the OAuth2 authorization code the OAuth2 client ID of your application the redirect URL the client_secret  curl -X POST \\\rhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\\r-H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\\r-d \u0026#39;grant_type=authorization_code\u0026amp;code={authorizationCode}\u0026amp;client_id={oauth2Client.id}\u0026amp;redirect_uri={redirectUri}\u0026amp;client_secret={oauth2Client.secret}\u0026#39;\r In our example:\ncurl -X POST \\\rhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\\r-H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\\r-d \u0026#39;grant_type=authorization_code\u0026amp;code=eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..ZT1EOZlAoohBhGj2J24ydw.uyRYHynYGlrNpve4UmjsMXzVfXp2XBQPfXHrQWjfqYrPOUZVWoDWDJp7DpWvL8YAPnKANQnUsfEyE3JMA7qdOUHNr5wf2mT1tU3L1RBARui3gefXWlSZXTcC-ULnPmwjqyfVKRb5IPG-6N2Y20Xn0BBFEZEtN1AXslYvts4nKUG-Metg03NKP9Pi3CYVFrlUZIR6sAGsIeNXRiJPtXZ7CtQPStQGOMK_Y-TCXKWT9WUem7FOn3b_U_p7dEWR5Grp.I6Me3lQsqicV9zoH6i293g\u0026amp;client_id=7222223-1111-2222-3333-fb4444444b7c\u0026amp;redirect_uri=https://dev.application.com/auth/callback\u0026amp;client_secret=-9vxPaAd3HmXhNXf\u0026#39;\r Note\nWe can\u0026rsquo;t simulate this step because the request requires the application to be in the same session, in our example the https://oauthdebugger.com/debug application session.\n  Result\nYou get the OAuth2 access token allowing your application to access the tenant data.\n200: {\r\u0026#34;access_token\u0026#34;: \u0026#34;eyAdG ...\u0026#34;\r} Implementing a User Agent Application If you have a browser application without a backend service, a JavaScript application, for example, retrieve the OAuth2 authorization code without the OAuth2 client secret.\nPrerequisites\nYou have registered and installed the application as described above.\nWhen registering your application to the OLT platform, you have set the application property withPublicOauth2Client to true.\nProcedure\n To get the OAuth2 authorization code, redirect the API call to the URL of our OLT authorization server (id.lightelligence.io):\nhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/auth \\\r?client_id={oauth2Client.id} \\\r\u0026amp;redirect_uri={redirectUri} \\\r\u0026amp;scope=openid \\\r\u0026amp;response_type=code \\\r\u0026amp;response_mode=form_post\r To get an OAuth2 access token, implement a browser callback function to extract the OAuth2 authorization code and make the following POST request to the /id/auth/realms/olt/protocol/openid-connect/token.\nThe request passes the following data to the OLT authorization server:\n the OAuth2 authorization code the OAuth2 client ID of your application the redirect URL  curl -X POST \\\rhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\\r-H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\\r-d \u0026#39;grant_type=authorization_code\u0026amp;code={authorizationCode}\u0026amp;client_id={oauth2Client.id}\u0026amp;redirect_uri={redirectUri}\u0026#39;\r In our example: curl -X POST \\\rhttps://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\\r-H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\\r-d \u0026#39;grant_type=authorization_code\u0026amp;code={authorizationCode}\u0026amp;client_id=7222223-1111-2222-3333-fb4444444b7c\u0026amp;redirect_uri=https://oauthdebugger.com/debug\u0026#39;   "
    }
    
    , 
    {
        "url": "/applications/registering-background-applications/",
        "title": "Registering and Implementing Background Applications",
        "content": " To turn a background application into an OAuth2 client, register it to the OLT platform and implement OAuth2 in your application.\nPrerequisites\nTo register applications to the OLT platform, you have owner or writer authorization.\nNote\nChecking permissions\n If you use default roles, to verify you have owner or writer authorization, in the OLT portal, under Users, check your roles.\n If you use custom roles, verify the user permissions for the specific endpoints.\nFor more information, see Defining Custom Roles.\n  Registering and Installing a Background Application  From the OLT portal, under Developer Area, obtain the tenant ID and the API token of the tenant who is to own the application.\nFor more information, see the analogous process under Creating and Implementing User Applications.\n To register the application to the OLT platform, make a POST request to the /application-developer/applications endpoint.\nThe request passes the following data:\n the API token the tenant ID of the tenant owning the application  Note\nManaging Applications\nYou can change the application properties later, for example, the application name.\nFor more information, see Managing Custom Applications.\nExample:\ncurl -X POST \\\rhttps://api.lightelligence.io/v1/application-developer/applications \\\r-H \u0026#39;Authorization: Bearer {API token}\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39; \\\r-d \u0026#39;{\r\u0026#34;name\u0026#34;: \u0026#34;Sample Application\u0026#34;,\r\u0026#34;allowedTenants\u0026#34;: [\r{\r\u0026#34;tenantId\u0026#34;: \u0026#34;{tenant Id}\u0026#34;\r}\r]\r}\u0026#39;\r You get a response similar to the following, containing the following data:\n application ID (in our example \u0026ldquo;9aa3b618-8cd2-4dc0-b7a1-da6df60af254\u0026rdquo;) OAuth2 client ID (in our example \u0026ldquo;44c11af1-c549-4c18-98bd-bcef92c8b45b\u0026rdquo;) OAuth2 client secret (in our example \u0026ldquo;vr7i9-P9brKIGYIQ\u0026rdquo;)  200: {\r\u0026#34;data\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;9aa3b618-8cd2-4dc0-b7a1-da6df60af254\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;Test Application\u0026#34;,\r\u0026#34;oauth2Client\u0026#34;: {\r\u0026#34;id\u0026#34;: \u0026#34;44c11af1-c549-4c18-98bd-bcef92c8b45b\u0026#34;,\r\u0026#34;secret\u0026#34;: \u0026#34;vr7i9-P9brKIGYIQ\u0026#34;,\r\u0026#34;type\u0026#34;: \u0026#34;confidential\u0026#34;\r},\r...\r}\r}\r Implement a process to store the OAuth2 client secret.\nNote\nWhy store the OAuth2 client secret?\nTo display application data, you can use the /application-developer/applications endpoint.\nBut the response does not contain the OAuth2 client secret.\nIf you don\u0026rsquo;t store it, you have to regenerate it making a POST request to the /application-developer/applications/{applicationId}/secret endpoint.\n To install the application, make a PUT request to the /applications/{application Id}/installation endpoint.\ncurl -X PUT \\\rhttps://api.lightelligence.io/v1/applications/{application ID}/installation \\\r-H \u0026#39;Authorization: Bearer {API token}\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39;\r In our example:\ncurl -X PUT \\\rhttps://api.lightelligence.io/v1/applications/9aa3b618-8cd2-4dc0-b7a1-da6df60af254/installation \\\r-H \u0026#39;Authorization: Bearer {API token}\u0026#39; \\\r-H \u0026#39;Content-Type: application/json\u0026#39;\r Optional: To verify the installation, make a GET request to the /applications/{applicationId} endpoint.\n  Result\nYour background application is registered to the OLT platform and installed in a tenant.\nThe background application can get data from the tenant in which the application is installed, without logging on to the OLT platform.\nInstalling the Application in Multiple Tenants To install an existing application in additional tenants, whitelist the tenants and install the application in each of them.\nFor more information, see Managing Custom Applications.\nImplementing a Background Application Implement a confidential OAuth2 client with OAuth2 client secret.\nProcedure\nTo get the OAuth2 access token, do the following:\n Implement a process to submit, in the request header, the tenant ID of the tenant in which the application is installed. To use the OAuth2 client credentials flow, set the grant type parameter to client_credentials. Submit the OAuth2 client ID and the OAuth2 client secret.   Make a POST request to the id/auth/realms/olt/protocol/openid-connect/token endpoint:\ncurl -X POST \\ https://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\ -H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\ -H \u0026#39;tenant: {tenant ID}\u0026#39; \\ -d \u0026#39;grant_type=client_credentials\u0026amp;client_id={oauth2Client.id}\u0026amp;client_secret={oauth2Client.secret}\u0026#39; In our example:\ncurl -X POST \\ https://id.lightelligence.io/v1/id/auth/realms/olt/protocol/openid-connect/token \\ -H \u0026#39;Content-Type: application/x-www-form-urlencoded\u0026#39; \\ -H \u0026#39;tenant: {tenant ID}\u0026#39; \\ -d \u0026#39;grant_type=client_credentials\u0026amp;client_id=44c11af1-c549-4c18-98bd-bcef92c8b45b\u0026amp;client_secret=vr7i9-P9brKIGYIQ\u0026#39; You get a response like the following, containing the OAuth2 access token allowing your application to access the tenant data.\n{ \u0026#34;access_token\u0026#34;: \u0026#34;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWV0VOVDNBN1FLWllFTURoWFBKd3dVa1Jpd04tREI5OThQeUpoU0gzRDZFIn0.eyJqdGkiOiI4YzhlMDAxMi1lYWFiLTRkYzYtYmZiOC1iNTUyNTQ3YTJiMGEiLCJleHAiOjE1NTgyNjA2OTIsIm5iZiI6MCwiaWF0IjoxNTU3Mzk2NjkyLCJpc3MiOiJodHRwczovL2lkLmRldi5vbHQtZGV2LmlvL3YxL2lkL2F1dGgvcmVhbG1zL29sdCIsImF1ZCI6IjI4ZjgzODE5LTE5OWYtNDQxMC1hZTdmLTcyMjE3NjUxMmI5MyIsInN1YiI6IjZmM2Q2MGQwLWJlMzAtNGNiYS1hOTU1LTczMDYzMDExNDg3YyIsInR5cCI6IkJlYXJlciIsImF6cCI6IjI4ZjgzODE5LTE5OWYtNDQxMC1hZTdmLTcyMjE3NjUxMmI5MyIsImF1dGhfdGltZSI6MCwic2Vzc2lvbl9zdGF0ZSI6IjAwNjY4OGIxLTEzZjEtNGJhZi1hNzQxLTc4NTdmZmE5NjM2ZiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnt9LCJzY29wZSI6Im9sdC1hcHBsaWNhdGlvbnMiLCJjbGllbnRJZCI6IjI4ZjgzODE5LTE5OWYtNDQxMC1hZTdmLTcyMjE3NjUxMmI5MyIsImNsaWVudEhvc3QiOiIxMC4yNDAuMC42NiIsImNsaWVudEFkZHJlc3MiOiIxMC4yNDAuMC42NiIsInRlbmFudCI6ImIxNzQ3NTc5LTM1NWQtNGI3YS1hYTcyLWMyMzM2ZDNhNzIxMSJ9.v7cu0zDJY0BqLSmTUauJW46XkGWOuNxVPV7qY4530FZU2BHwZuR5URPlJtHbWpe2QUqxSXboq4dPnL9PmCltUO11DT6cartsJAte4rvvJE2WHb_YtmRasn8b-PxZ9ZVFXIHQRDnIKDu0xPl29ijyqkWbTawdxvuLkwThi4Gu-apqWAjCX2pNBivmuT-25QVBA-FAD_cHuxRPgJ5DJ8BbFIOYR-WjGRAO9v7RLjANSRjXLCS69WP6nKtZn0xJT0GXCUyyLeo_zI4FMWosq9UEFb2hIlXi4kJbkK_pD6KsXq5RGEL7Ap812DUdTDzfA1IcqLH14S38PTnHCFwRssbx0g\u0026#34;, \u0026#34;expires_in\u0026#34;: 863999, \u0026#34;refresh_expires_in\u0026#34;: 950399, \u0026#34;refresh_token\u0026#34;: \u0026#34;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWV0VOVDNBN1FLWllFTURoWFBKd3dVa1Jpd04tREI5OThQeUpoU0gzRDZFIn0.eyJqdGkiOiI4ZGMxYWQ3ZC04ZDg1LTQwZjUtOWNjZS05NWZhMGQwNzNlNDEiLCJleHAiOjE1NTgzNDcwOTIsIm5iZiI6MCwiaWF0IjoxNTU3Mzk2NjkzLCJpc3MiOiJodHRwczovL2lkLmRldi5vbHQtZGV2LmlvL3YxL2lkL2F1dGgvcmVhbG1zL29sdCIsImF1ZCI6IjI4ZjgzODE5LTE5OWYtNDQxMC1hZTdmLTcyMjE3NjUxMmI5MyIsInN1YiI6IjZmM2Q2MGQwLWJlMzAtNGNiYS1hOTU1LTczMDYzMDExNDg3YyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiIyOGY4MzgxOS0xOTlmLTQ0MTAtYWU3Zi03MjIxNzY1MTJiOTMiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiIwMDY2ODhiMS0xM2YxLTRiYWYtYTc0MS03ODU3ZmZhOTYzNmYiLCJyZXNvdXJjZV9hY2Nlc3MiOnt9LCJzY29wZSI6Im9sdC1hcHBsaWNhdGlvbnMifQ.HN0JYs0PchnO1yOiEt05ZLT0slpJgxuHjnAsR6bIPDMeB-T0g_95ejZvSHp5WsHOeNP8Iu3Z8JCBIEQnTjoSxUVycCtL13ujODsmrzzEFDz4807O4BqMcoTewx_BxlCBSxXzn9mrRPPO-QkWUnwxVLXy1tcgZns3X9DGtmfWNz7HBwzhjutk2fpY2GOMuENgjhhVLhYYYuhY1E74iCt9uK_8XcQsWZKHHxMdNheJ4-Us3-E78sM9skSUUaa6dIN9dhSD51uB-61qiA6zEX91j6FYwSnnLi6CnZMNcwT8ROhxKOyxN98JDRJCwTcPHFcAeFHlTYohRqFTHVnuwAg38Q\u0026#34;, \u0026#34;token_type\u0026#34;: \u0026#34;bearer\u0026#34;, \u0026#34;not-before-policy\u0026#34;: 0, \u0026#34;session_state\u0026#34;: \u0026#34;006688b1-13f1-4baf-a741-7857ffa9636f\u0026#34;, \u0026#34;scope\u0026#34;: \u0026#34;olt-applications\u0026#34; } To verify that your application can access tenant data, fetch some data from a tenant that has installed the application, with the authorization token retrieved from the application. For example, list the devices registered to the tenant by making a GET request to the /devices endpoint:\ncurl -X GET \\ https://api.lightelligence.io/v1/devices \\ -H \u0026#39;Authorization: Bearer {access token}\u0026#39; \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ In our example:\ncurl -X GET \\ https://api.lightelligence.io/v1/devices \\ -H \u0026#39;Authorization: Bearer ey ...\u0026#39; \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ You get a response similar to the following:\n{ \u0026#34;meta\u0026#34;: { \u0026#34;page\u0026#34;: 0, \u0026#34;pageSize\u0026#34;: 50, \u0026#34;itemsTotal\u0026#34;: 6, \u0026#34;pagesTotal\u0026#34;: 1 }, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;383b8c61-a9c7-487f-b4e1-66fad753e546\u0026#34;, \u0026#34;info\u0026#34;: { \u0026#34;name\u0026#34;: \u0026#34;RGB LED\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;deviceTypeId\u0026#34;: \u0026#34;04f14462-b44f-493c-aa2c-dd6d1c439ec3\u0026#34;, \u0026#34;tags\u0026#34;: [], \u0026#34;location\u0026#34;: \u0026#34;\u0026#34; } }, ... }  "
    }
    
    , 
    {
        "url": "/applications/managing-applications/",
        "title": "Managing Custom Applications",
        "content": " As the developer, deactivate custom applications temporarily or whitelist additional tenants, for example.\nAs a tenant owner, install or uninstall custom applications, for example.\nVerifying Permissions To manage custom applications, verify you have the permissions required for the specific endpoints.\nProcedure\n To identify your user ID, make a GET request to the tenants/{tenantID}/users endpoint.\nYou get user data such as the user ID (in our example 72fa ...).\n{ \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;72fac0d5-fe32-4599-8f9c-a033e42faaa9\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;John.Doe@example.com\u0026#34;, \u0026#34;firstName\u0026#34;: \u0026#34;John\u0026#34;, \u0026#34;lastName\u0026#34;: \u0026#34;Doe\u0026#34;, \u0026#34;userRoles\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;3100bdf8-90d9-471d-86ae-f7ba9eff0a86\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;owner\u0026#34;, \u0026#34;displayName\u0026#34;: \u0026#34;Owner\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Default owner role with full access to all resources.\u0026#34;, \u0026#34;locked\u0026#34;: true } ] } ], ... } } To list your permissions, make a GET request to the /users/{userId}/permissions endpoint.\n  Result\nYou get the user\u0026rsquo;s permissions, for example, the permissions related to application management:\n{ \u0026#34;data\u0026#34;: { \u0026#34;permissions\u0026#34;: [ ... { \u0026#34;id\u0026#34;: \u0026#34;1a484122-4276-452f-86fe-35328a269e0e\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;applications_development:read\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;c4d20bb1-40a9-4e23-9ceb-ca970b6cd29d\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;applications_development:write\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;b25a38ad-86f9-458d-825a-8c0234f146e7\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;applications:read\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;d430282c-a7a3-4163-92f7-b6055466d318\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;applications:write\u0026#34; }, ... ] } } Managing Applications as a Developer We provide functions to manage custom applications you have developed.\nExamples:\n Deactivate an application temporarily or change application properties Allow tenants to install applications by registering an application to tenants (whitelisting)  Changing Application Properties Change the following properties, if required:\n application name application type (web application with confidential OAuth2 client or user agent application with public OAuth2 client) redirect URLs teaser description to describe the application briefly. URL to provide additional information about the application  Procedure\nMake a PATCH request to the use the /application-developer/applications/{applicationId} endpoint.\nDeactivating an Application Temporarily To maintain a custom application, deactivate it temporarily.\nDo some fixes, for example, and ensure the application isn\u0026rsquo;t being used during this time.\nThe user will see a message that the app is inactive and is asked to contact the developer for more information.\nProcedure\nMake a PATCH request to the use the /application-developer/applications/{applicationId} endpoint.\nSet the status property to inactive.\nRegenerating the OAuth2 Client Secret Regenerate the OAuth2 client secret in the following cases, for example:\n You have given the OAuth2 client secret out to someone that shouldn\u0026rsquo;t have it. For security reasons, you want to make sure no possible attacker has access to your application data. You have forgotten or lost the OAuth2 client secret when registering your application.  You can always generate a new OAuth2 client secret.\nThe new OAuth2 client secret invalidates any previous OAuth2 client secret.\nFor security reasons, we don\u0026rsquo;t allow for fetching OAuth2 client secrets already created.\nProcedure\nMake a POST request to the /application-developer/applications/{applicationId}/secret endpoint.\nWhitelisting Additional Tenants To install applications in additional tenants, whitelist the tenants. Control the tenants that are to use an application.\nBackground: To be able to install an application in a tenant, you must have whitelisted the tenant.\nProcedure\n To whitelist a tenant, make a PUT request to the /application-developer/applications/{applicationId}/allowed-tenants/{tenantId} endpoint. To control the tenants that are to use an application, make requests to the following endpoints:\n To list whitelisted tenants, make a GET request to the /application-developer/applications/{applicationId}/allowed-tenants endpoint. To revoke whitelisting for a tenant, make a DELETE request to the /application-developer/applications/{applicationId}/allowed-tenants/{tenantId} endpoint.   Deleting an Application Delete a custom application if it\u0026rsquo;s obsolete, for example.\nProcedure\n Identify the whitelisted tenants who might have installed the application.\nInform the tenant owners to uninstall the application.\nTo identify whitelisted tenants, make a GETrequest to the /application-developer/applications/{applicationId}/allowed-tenants endpoint.\nNote\nIf you have a background application, you can list the tenants that have actually installed your application.\nSee Listing Tenants.\n Make a DELETE request to the /application-developer/applications/{applicationId} endpoint.\n  Listing Tenants If you have a background application, list all tenants which have currently installed the application and to whose data the application, therefore, has access to.\nYou get the tenant IDs and tenant names.\nThe endpoint only fetches up-to-date data from the tenants that currently have installed your application.\nPrerequisites\nYour custom application is a background application using client credentials.\nFor more information, see Registering and Implementing Background Applications.\nProcedure\nMake a GET request to the /application-info/installed-tenants endpoint.\nManaging Applications as a Tenant Owner Install or uninstall custom applications.\nInstalling an Application Roll out custom applications to a tenant.\nPrerequisites\nThe custom application is whitelisted.\nProcedure\n List all applications available (whitelisted) for a tenant:\n Log on to the tenant. Under Developer Area, copy the authorization token. Make a GET request to the /applications endpoint.\nTo get only the applications not yet installed, set the query parameter installed to false.\n    Displaying Applications Available or Installed\n  You get the application name and application ID.\nIf the application property available is true, the application can be installed.\n\u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;570e0a66-974b-40dd-8108-844da77719e9\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Display Motion Sensor Time Series Data\u0026#34;, \u0026#34;available\u0026#34;: true, \u0026#34;availableCode\u0026#34;: \u0026#34;APP_AVAILABLE\u0026#34;, \u0026#34;installation\u0026#34;: { \u0026#34;tenantId\u0026#34;: \u0026#34;570e0a66-974b-40dd-8108-844da77719e9\u0026#34;, \u0026#34;createdAt\u0026#34;: \u0026#34;2019-04-28T23:17:21Z\u0026#34; } } ] Install an application:\n Ensure that the application property available is true.\nOnly available (whitelisted) applications can be installed.\n Ensure that your user has authorization as writer or owner.\n Make a PUT request to the /applications/{applicationId}/installation endpoint.\n  Installing an Application\n     Performing Miscellaneous Activities Uninstall a custom application no longer needed, for example.\nProcedure\n To verify the application properties, make a GET request to the /applications/{applicationId} endpoint.\n whether an application is available to be installed in a tenant in which tenants an application is currently installed  To uninstall an application, make a DELETE request to the /applications/{applicationId}/installation endpoint.\nNote\nYour custom application implements custom permissions?\nIf you uninstall a custom application with custom permissions, all role assignments of those custom permissions are removed.\nIf you re-install the application, you have to assign the custom permissions to the custom role again.\nFor more information about custom roles and permissions, see Defining Custom Permissions and Roles.\n  "
    }
    
    , 
    {
        "url": "/applications/defining-custom-permissions/",
        "title": "Defining Custom Permissions and Roles",
        "content": " Custom permissions allow you to use the OLT role management to control how users can use your custom applications.\nHow you design and implement custom permissions in a custom application depends on your user role concept.\nHow it Works How does the custom roles mechanism work?\n As an application developer, implement, in your custom application, permissions that a user must have to perform a specific activity.\n As an application developer, create custom permissions corresponding to the permissions implemented in your custom application, in the OLT portal.\n As a tenant, create custom roles based on the custom permissions.\n As a tenant, assign the custom roles to users.\n  Result: When your custom application accesses the OLT platform, it can query for custom user permissions, based on the user\u0026rsquo;s role.\nDeveloping custom roles and developing custom creations are processes that are mutually dependent:\n You need an idea of user roles to be able to implement custom permissions in your custom applications accordingly. You need to have implemented and installed the custom applications to be able to register the custom permissions and custom roles in the OLT platform.  Creating a Custom Permission Prerequisites\n As the application developer, you have implemented custom permissions in your user application.\n You have registered your custom application to the OLT platform.\nFor more information, see Registering and Implementing User Applications.\nBackground applications don\u0026rsquo;t have users. Therefore, you can\u0026rsquo;t control them via custom permissions/roles.\n  Procedure\n Log on to the OLT portal as an application developer.\n Under Developer Area, obtain the API token.\n Optional: To identify the application ID, make a GET request to the /application-developer/applications endpoint.\n To create a custom permission, make a POST request to the /application-developer/applications/{applicationId}/custom-permissions endpoint.\nSpecify the following properties:\n alias: Enter, for example, the technical name of the custom permission implemented in your custom application. category: Describe, for example, the resource the custom permission is associated with.\n name: Enter a name. description: Describe the activity the custom permissions allows to perform.  curl -X \\ POST https://api.lightelligence.io/v1/application-developer/applications/{applicationId}/custom-permissions \\ -H \u0026#39;Authorization: Bearer {authenticationToken}\u0026#39; \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ -d \u0026#39;{ \u0026#34;alias\u0026#34;: \u0026#34;sample-resource:read\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;Sample resource\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Read sample resource\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Allows to read the sample resource.\u0026#34; }\u0026#39; You get a response such as the following:\n{ \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;2429c9d1-8f56-43a8-9813-c3ae94853aaf\u0026#34;, \u0026#34;applicationId\u0026#34;: \u0026#34;6f23aca9-9f53-4465-87e1-b580cf497cda\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;sample-resource:read\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Read sample resource\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Allows to read the sample resource.\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;Sample resource\u0026#34;, \u0026#34;createdAt\u0026#34;: \u0026#34;2019-05-27T12:22:15.681Z\u0026#34;, \u0026#34;updatedAt\u0026#34;: \u0026#34;2019-05-27T12:22:15.681Z\u0026#34; } }  Creating and Assigning a Custom Role As a tenant, create a custom role and assign the custom application permission(s). Assign the role to users.\nPrerequisites\n You have owner authorization. You have installed an application with custom permissions.\nCustom permissions of a custom application can only be assigned to custom roles if the custom application is installed.\n  Procedure\n Log on to the OLT portal as a user with owner authorization.\n Under Developer Area, obtain the API token.\n Optional: To identify the application ID of the custom application and to verify it\u0026rsquo;s installed, make a GET request to the /applications endpoint.\nTo only list installed applications, use the corresponding search parameter: /applications?installed=true.\n To identify the ID of the custom permission(s) associated with the application, make a GET request to the /applications/{applicationId}/custom-permissions endpoint.\n To create a role, make a POST request to the /roles endpoint.\nPost the\n role name and a description of its use custom permission ID(s)  In our example, the device manager has write and read authorization. In other use cases, it might make sense to differentiate between roles that have read/write authorization and read-only authorization only.\ncurl -X POST \\ https://api.lightelligence.io/v1/roles \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ -H \u0026#39;Authorization: Bearer {authenticationToken}\u0026#39; \\ -d \u0026#39;{ \u0026#34;name\u0026#34;: \u0026#34;Device Manager\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Manages devices with write permission\u0026#34;, \u0026#34;customPermissions\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;2429c9d1-8f56-43a8-9813-c3ae94853aaf\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;9ecebed0-804c-11e9-b475-0800200c9a66\u0026#34; } ] }\u0026#39; You get a response such as the following, containing the role ID:\n{ \u0026#34;data\u0026#34;: { \u0026#34;id\u0026#34;: \u0026#34;8be5ebd5-b8b3-4d25-98ec-4d42f45154c9\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Device manager\u0026#34;, \u0026#34;displayName\u0026#34;: \u0026#34;Device Manager\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Manages devices with read and write permission\u0026#34;, \u0026#34;locked\u0026#34;: false, \u0026#34;usersCount\u0026#34;: 0, \u0026#34;createdAt\u0026#34;: \u0026#34;2019-05-28T12:00:50.289Z\u0026#34;, \u0026#34;updatedAt\u0026#34;: \u0026#34;2019-05-28T12:00:50.289Z\u0026#34;, \u0026#34;permissionIds\u0026#34;: [], \u0026#34;customPermissionIds\u0026#34;: [ \u0026#34;2429c9d1-8f56-43a8-9813-c3ae94853aaf\u0026#34;, \u0026#34;9ecebed0-804c-11e9-b475-0800200c9a66\u0026#34; ] } } To identify the user IDs of user assigned to a tenant, make a GET request to the /tenants/{tenantId}/users endpoint.\n To assign the custom role to a user, make a PUT request to the /tenants/{tenantId}/users/{userId}/roles endpoint.\ncurl -X PUT \\ https://api.lightelligence.io/v1/tenants/{tenantId}/users/{userId}/roles \\ -H \u0026#39;Content-Type: application/json\u0026#39; \\ -H \u0026#39;Authorization: Bearer {authenticationToken}\u0026#39; \\ -d \u0026#39;{ \u0026#34;id\u0026#34;: \u0026#34;8be5ebd5-b8b3-4d25-98ec-4d42f45154c9\u0026#34; }\u0026#39; Status 204 means the user\u0026rsquo;s roles are updated and the custom role is assigned.\n  Assigning a Custom Role\n   Optional: Verify the roles assigned to users:\n To list the roles assigned to a user, make a GET request to the /tenants/{tenantId}/users/{userId}/roles endpoint.\nIn our example, you get the following response:\n{ \u0026#34;meta\u0026#34;: { \u0026#34;page\u0026#34;: 0, \u0026#34;pageSize\u0026#34;: 10 }, \u0026#34;data\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;8be5ebd5-b8b3-4d25-98ec-4d42f45154c9\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Device manager\u0026#34;, \u0026#34;displayName\u0026#34;: \u0026#34;Device Manager\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Manages devices with read and write permission\u0026#34;, \u0026#34;locked\u0026#34;: false, \u0026#34;usersCount\u0026#34;: 1, \u0026#34;createdAt\u0026#34;: \u0026#34;2019-05-28T12:00:50.289Z\u0026#34;, \u0026#34;updatedAt\u0026#34;: \u0026#34;2019-05-28T12:00:50.289Z\u0026#34;, \u0026#34;permissionIds\u0026#34;: [], \u0026#34;customPermissionIds\u0026#34;: [] } ] } To list the users assigned to a role, make a GET request to the /roles/{roleId}/users endpoint.\n   Maintaining Custom Permission Properties Changing the Category and Description As a tenant, make a PATCH request to the /roles/{roleId} endpoint.\nChanging the Name or Alias Once a custom permission is created you can\u0026rsquo;t change its name or alias.\nThis is to avoid any manipulation of a permission by the developer after it has been assigned by an application user.\nTo change name or alias, do the following:\n As an application developer, create a new custom permission.\n As a tenant, to assign the newly created custom permission, make a PATCH request to the /roles/{roleId} endpoint.\n As an application developer, to delete the obsolete custom permission, make a DELETE request to the /application-developer/applications/{applicationId}/custom-permissions/{permissionId} endpoint.\nStatus 204 means the custom permission has been deleted.\n  Deleting a Custom Permission\n   Optional: As an application developer, to verify the custom permission has been deleted, make a GET request to the /application-developer/applications/{applicationId}/custom-permissions endpoint.\n  When you delete a custom application with custom permissions or a custom permission, the custom permissions are removed from any role to which they were assigned.\n"
    }
    
    , 
    {
        "url": "/applications/troubleshooting-application-management/",
        "title": "Troubleshooting Application Management",
        "content": " Access Denied Your custom application can\u0026rsquo;t access a certain endpoint?\nVerify that an endpoint has the permission required to access the tenant\u0026rsquo;s data.\nBackground\nFor security reasons, custom applications are not allowed to use API endpoints related to tenant management and user management.\nYou can access these endpoints only in the OLT portal.\nSo even if your user has the owner role, with a custom application the access is restricted to permissions assigned to the writer role.\nIf you need to develop custom applications that use endpoints related to user management, contact our OLT support under contact@lightelligence.io.\nCustom applications cannot access endpoints which require the following permission:\n \u0026quot;tenant:read\u0026quot; \u0026quot;tenant:write\u0026quot; \u0026quot;tenant_user_management:read\u0026quot; \u0026quot;tenant_user_management:write\u0026quot;  The /tenants/{tenantId}/users/{userId}/roles endpoint, for example, requires the \u0026quot;tenant_user_management:read\u0026quot; permission. You cannot access it with a custom application.\nPrerequisites\nYou have owner or writer authorization.\nProcedure\nMake a GET request to the /permissions endpoint.\nTo authenticate the request, use the OAuth2 access token.\ncurl -X GET \\ https://api.lightelligence.io/v1/permissions \\ -H \u0026#39;Authorization: Bearer {OAuth2 access token}\u0026#39; \\ -H \u0026#39;Content-Type: application/json\u0026#39;  You get a response similar to the following:\n{ \u0026#34;meta\u0026#34;: { \u0026#34;page\u0026#34;: 0, \u0026#34;pageSize\u0026#34;: 50, \u0026#34;totalSize\u0026#34;: 26 }, \u0026#34;data\u0026#34;: { \u0026#34;permissions\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;78624d68-b09c-4e28-ae5e-812c3cfa1126\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;devicetypes:read\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;devices\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Access devicetypes\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Get device types and online monitoring rules \\\\nList available device types and categories\\n\u0026#34; }, { \u0026#34;id\u0026#34;: \u0026#34;d06e523b-d729-4b6d-b7b7-203ab8eaf102\u0026#34;, \u0026#34;alias\u0026#34;: \u0026#34;devicetypes:write\u0026#34;, \u0026#34;category\u0026#34;: \u0026#34;devices\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Edit devicetypes\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;Create device types \\\\nModify device types and online monitoring rules \\\\nRemove device types\\n\u0026#34; }, ... ] } }"
    }
    
    , 
    {
        "url": "/categories/",
        "title": "Categories",
        "content": ""
    }
    
    , 
    {
        "url": "/news/1.0-relnotes/",
        "title": "Lightelligence 1.0",
        "content": "This is the initial version of our documentation, covering basic functions.\n"
    }
    
    , 
    {
        "url": "/categories/releases/",
        "title": "Releases",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/applications/",
        "title": "applications",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/data/",
        "title": "data",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/devices/",
        "title": "devices",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/getting-started/",
        "title": "getting-started",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/roles/",
        "title": "roles",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/tenants/",
        "title": "tenants",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/users/",
        "title": "users",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/search/",
        "title": "search",
        "content": ""
    }
    
    , 
    {
        "url": "/categories/maintenance/",
        "title": "maintenance",
        "content": ""
    }
    
    , 
    {
        "url": "/",
        "title": "LIGHTELLIGENCE® User Journey",
        "content": "Experience OSRAM LIGHTELLIGENCE® (OLT) step by step:\nFrom connecting a sample device to managing a complex system landscape\nFrom generic use cases to specific ones\n"
    }
    
]